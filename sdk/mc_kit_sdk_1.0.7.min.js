(function(c,r,l){function b(){return b}function q(a,d){a&&parent.postMessage({action:a.toUpperCase(),message:d},"*")}var m,g,e,f=[],h=[],k=[];m=c.MCK;e={PRISTINE:0,PENDING:1,REJECTED:2,RESOLVED:3};g=e.PRISTINE;b.version="1.0.7";b.h5={};(function(){r.addEventListener("message",function(a){var d=a.data;a=d.action;var b=d.message,d=!!d.isKeepListen;if(0!==f.length&&(g===e.RESOLVED||"AUTH_SUCCESS"===a))for(var p=f.length,c;p--;)c=f[p],a===c.action&&(c.callback(b,c),c.once&&!d&&f.splice(p,1))})})();b.auth=
function(){g=e.PENDING;var a;a=document.getElementsByTagName("script");a=a[a.length-1].src.match(/[\?&]appkey=([^&]+)/i)[1];q("auth",{appKey:a,domain:location.origin})};b.ready=function(a,d){if("function"!==typeof a)return b;switch(g){case e.RESOLVED:a(b);break;case e.PRISTINE:case e.PENDING:h.push(a);break;default:"function"===typeof d&&d()}return b};b.h5.call=function(a,d,n){var c;switch(g){case e.PRISTINE:throw Error("\u8bf7\u786e\u8ba4\u4f60\u7684 appKey \u6b63\u786e.");case e.PENDING:console.log("\u4ecd\u5728\u9a8c\u8bc1\u4e2d.. \u8bf7\u4f7f\u7528 `MCK.ready(fn)` \u6ce8\u518c\u56de\u8c03.");
break;case e.RESOLVED:c=!0;break;default:throw Error("\u8bf7\u786e\u8ba4\u4f60\u7684 appKey \u6b63\u786e.");}if(c)if(a&&-1!==k.indexOf(a.toUpperCase()))"function"===typeof d&&(n=d,d=l),a=a+"_!_"+((new Date).getTime()+"").slice(-6)+(Math.random()+"").slice(-6),q(a,d),"function"===typeof n&&b.h5.watchOnce(a,function(a){n(a)});else throw Error("\u672a\u627e\u5230\u8be5 ["+a+"] API, \u8bf7\u786e\u8ba4\u4f60\u8c03\u7528\u7684 API .");};b.h5.watch=function(a,d,b){var c;if("string"===typeof a&&"function"===
typeof d)return b=b||{},c=(c=b.flag)||(new Date).getTime()+(Math.random()+"").substring(2,4),f.push({once:b.once,flag:c,action:a.toUpperCase(),callback:d}),c};b.h5.watchOnce=function(a,d,c){c=c||{};c.once=!0;b.h5.watch(a,d,c);return b};b.h5.unWatch=function(a){for(var d=f.length;d--;)if(a===f[d].flag){f.splice(d,1);break}return b};b.h5.getApi=function(){return k.concat()};b.conflict=function(){c.MCK=m;m=null;return Object.create(b)};b.auth();b.h5.watchOnce("AUTH_SUCCESS",function(a){a?g=e.RESOLVED:
(h.length=0,g=e.REJECTED)});b.h5.watchOnce("AVAILABLE_API",function(a){var d;k.push.apply(k,a);0!==h.length&&(d=c.MCK,d=b.isPrototypeOf(d)?d:Object.create(b),h.forEach(function(a){a.call(null,d)}))});c.MCK=Object.create(b)})(this,window);
(function(){var c;if(-1!==navigator.userAgent.indexOf("iPhone")||navigator.userAgent.indexOf("iPad"))document.addEventListener("touchend",function(c){var l=c.target.tagName.toUpperCase();-1!==["INPUT","TEXTAREA"].indexOf(l)&&(window.focus(),c.target.focus())},!1),c=document.createElement("style"),c.innerHTML="body{position: absolute!important; top: 0; left: 0; right: 0; bottom: 0; overflow-y: auto!important; -webkit-overflow-scrolling: touch!important}",document.head.appendChild(c)})();
